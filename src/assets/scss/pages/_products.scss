.products {
  min-height: 100vh;
  padding-bottom: 30rem;

  // padding-top: 10rem;
  // background: transparent
  //   linear-gradient(
  //     180deg,
  //     $dark-blue-grey 0%,
  //     $dark-grey 17%,
  //     $dark-grey-blue 82%,
  //     $dark-blue-grey 100%
  //   )
  //   0% 0% no-repeat padding-box;
  &__container {
    max-width: 94rem;
    margin: 0 auto;
    z-index: 2;
  }
  &__intro {
    text-align: center;
    padding-top: 6rem;
    min-height: 80rem;
  }
  &__intro-image {
    position: relative;
    z-index: 100;
    height: 40rem;
    &--circle {
      @include absCenter;
      width: 60rem;
      height: 40rem;
      background: transparent url("../../images/product_pic@2x.png") 0% 0%
        no-repeat padding-box;
      background-position: center;
      background-size: contain;
    }
    &--card {
      @include absCenter;
      top: 40%;
      width: 30rem;
      height: 40rem;
      perspective: 1000px;
      transition: all 1s ease-in-out;
    }
    &--card-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transition: transform 0.8s;
      transform-style: preserve-3d;
    }
    &--card-front,
    &--card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      -webkit-backface-visibility: hidden; /* Safari */
      backface-visibility: hidden;
    }
    &--card-front {
      background: transparent url("../../images/CAFECA_4@2x.png") 0% 0%
        no-repeat padding-box;
      background-position: center;
      background-size: contain;
    }
    &--card-back {
      background: transparent url("../../images/CAFECA_3@2x.png") 0% 0%
        no-repeat padding-box;
      background-position: center;
      background-size: contain;
      transform: rotateY(180deg);
    }
  }
  &__intro-header {
    margin-bottom: 2rem;
  }
  &__intro-description {
    margin-bottom: 4.5rem;
  }
  &__intro-button {
    width: 2.4rem;
    height: 1.5rem;
    background: transparent url("../../images/Icon ionic-ios-arrow-down@2x.png")
      0% 0% no-repeat padding-box;
    background-position: center;
    background-size: contain;
  }
  &.intro &__intro-image--circle {
    animation: 1s ease-in-out product-bottom-slidein-lg;
  }
  &.intro &__intro-image--card-inner {
    animation: 2s ease-in-out top-roatein;
    animation-fill-mode: forwards;
  }
  &.intro &__intro-header {
    animation: 1s ease-in-out bottom-slidein-sm;
  }
  &.intro &__intro-description {
    animation: 1s ease-in-out bottom-slidein;
  }
  &.intro &__intro-button {
    animation: 1s ease-in-out top-slidein-sm;
  }
  &__header {
    margin-bottom: 2rem;
  }
  &__description {
    margin-bottom: 4rem;
  }
  &.finger &__intro-image--card {
    top: 238%;
    left: 25%;
    transform: translate(-50%, -50%) rotate(-15deg);
  }
  &.offline &__intro-image--card {
    top: 384%;
    left: 48%;
    // transform: translate(-50%, -50%) scale(0.75) rotate(15deg);
    transform: matrix(0.52, 0.3, -0.02, 0.58, 0, 0);
  }
  &.device &__intro-image--card {
    top: 548%;
    left: 8%;
    transform: matrix(0.67, -0.4, 0, 0.8, 0, 0);
  }
  &.trace &__intro-image--card {
    top: 815%;
    left: 60%;
    transform: matrix(0.67, 0, 0, 0.67, 0, 0);
  }
  &__content > &__header,
  &__content > &__description,
  &__finger-image--background,
  &__offline-image--cloud,
  &__offline-image--plus,
  &__device-image--devices,
  &__device-image--light,
  &__trace-image--spotlight,
  &__finger-image--fingerprint {
    transition: 1s all ease-in-out;
    opacity: 0;
    transition-delay: 1s;
  }
  &__trace-image--keyprint {
    transition: 1s all ease-in-out;
    opacity: 0;
    transition-delay: 2s;
  }
  &__finger > &__content > &__header {
    transform: translateY(-4rem);
  }
  &__finger > &__content > &__description {
    transform: translateY(4rem);
  }
  &.finger &__finger > &__content > &__header,
  &.finger &__finger > &__content > &__description {
    transform: translateY(0rem);
    opacity: 1;
  }
  &.finger &__finger-image--background {
    left: 50%;
    opacity: 1;
  }
  &.finger &__finger-image--fingerprint {
    transition-delay: 1.5s;
    opacity: 1;
    transform: translate(-50%, -50%) scale(0.8);
  }
  &__offline > &__content > &__header {
    transform: translateX(-36%);
  }
  &__offline > &__content > &__description {
    transform: translateX(-36%);
  }
  &.offline &__offline > &__content > &__header,
  &.offline &__offline > &__content > &__description {
    transform: translateX(0%);
    opacity: 1;
  }
  &.offline &__offline-image--cloud {
    top: 25%;
    opacity: 1;
  }
  &.offline &__offline-image--plus {
    top: 53%;
    opacity: 1;
  }

  &__device > &__content > &__header {
    transform: translateX(36%);
  }
  &__device > &__content > &__description {
    transform: translateX(36%);
  }
  &.device &__device > &__content > &__header,
  &.device &__device > &__content > &__description {
    transform: translateX(0%);
    opacity: 1;
  }
  &.device &__device-image--devices {
    top: 50%;
    opacity: 1;
  }
  &.device &__device-image--light {
    top: -2%;
    opacity: 1;
  }
  &__trace > &__content > &__header {
    transform: translateX(-36%);
  }
  &__trace > &__content > &__description {
    transform: translateX(-36%);
  }
  &.trace &__trace > &__content > &__header,
  &.trace &__trace > &__content > &__description {
    transform: translateX(0%);
    opacity: 1;
  }
  &.trace &__trace-image--spotlight {
    top: 50%;
    opacity: 1;
  }
  &.trace &__trace-image--keyprint {
    top: 0%;
    opacity: 1;
    transform: translate(-50%, -50%) rotate(0deg);
  }

  &__finger,
  &__offline,
  &__device,
  &__trace {
    display: flex;
    align-items: center;
    gap: 4rem;
  }
  &__image-box {
    position: relative;
    width: 48rem;
    height: 40rem;
    flex: 1;
  }
  &__content {
    flex: 1;
  }
  &__image {
    width: 100%;
    height: 40rem;
  }
  &__offline,
  &__trace {
    flex-direction: row-reverse;
  }
  &__finger-image {
    &--background {
      @include absCenter;
      left: 0%;
      background: transparent url("../../images/fingerprint_2@2x.png") 0% 0%
        no-repeat padding-box;
      background-position: center;
      background-size: contain;
      opacity: 0;
    }
    &--card {
      @include absCenter;
      top: 53%;
      left: 47%;
      width: 30rem;
      background: transparent url("../../images/CAFECA_2@2x.png") 0% 0%
        no-repeat padding-box;
      background-position: center;
      background-size: contain;
      display: none;
    }
    &--fingerprint {
      @include absCenter;
      opacity: 0;
      left: 48%;
      width: 14rem;
      background: transparent url("../../images/finger@2x.png") 0% 0% no-repeat
        padding-box;
      background-position: center;
      background-size: contain;
      z-index: 100;
    }
  }
  &__offline-image {
    &--cloud {
      @include absCenter;
      width: 48rem;
      top: 60%;
      left: 54%;
      background: transparent url("../../images/cloud@2x.png") 0% 0% no-repeat
        padding-box;
      // background: url("../../images/cloud@2x.png"),
      //   linear-gradient(180deg, #373f49, #38414d);
      background-blend-mode: color-dodge;
      background-position: center;
      background-size: contain;
    }
    &--card {
      @include absCenter;
      top: 50%;
      left: 25%;
      width: 17rem;
      background: transparent url("../../images/CAFECA_6@2x.png") 0% 0%
        no-repeat padding-box;
      background-position: center;
      background-size: contain;
      display: none;
    }
    &--plus {
      @include absCenter;
      top: 0%;
      width: 3rem;
      transform: scale(1, 1.2) translate(-50%, -50%);
      background: transparent url("../../images/Union 1@2x.png") 0% 0% no-repeat
        padding-box;
      background-position: center;
      background-size: contain;
    }
  }
  &__device-image {
    &--devices {
      @include absCenter;
      background: transparent url("../../images/devices@2x.png") 0% 0% no-repeat
        padding-box;
      background-position: center;
      background-size: contain;
      top: 80%;
      opacity: 0;
    }
    &--card {
      @include absCenter;
      top: 7%;
      left: 49%;
      width: 20rem;
      background: transparent url("../../images/CAFECA_5@2x.png") 0% 0%
        no-repeat padding-box;
      background-position: center;
      background-size: contain;
      display: none;
    }
    &--light {
      @include absCenter;
      top: 8%;
      left: 47%;
      width: 18rem;
      top: 24%;
      opacity: 0;
      background: transparent url("../../images/light@2x.png") 0% 0% no-repeat
        padding-box;
      background-position: center;
      background-size: contain;
      z-index: 100;
    }
  }
  &__trace-image {
    &--spotlight {
      @include absCenter;
      top: 80%;
      // background: url("../../images/spotlight_2@2x.png"),
      //   linear-gradient(180deg, #2f3f56 82%, #22324f);
      background: transparent url("../../images/spotlight_2@2x.png") 0% 0%
        no-repeat padding-box;
      background-position: center;
      background-size: contain;
      background-blend-mode: color-dodge;
    }
    &--card {
      @include absCenter;
      width: 20rem;
      background: transparent url("../../images/CAFECA_4@2x.png") 0% 0%
        no-repeat padding-box;
      background-position: center;
      background-size: contain;
      display: none;
    }
    &--keyprint {
      @include absCenter;
      top: -25%;
      left: 50%;
      width: 30rem;
      transform: translate(-50%, -50%) rotate(-90deg);
      background: transparent url("../../images/keyprint@2x.png") 0% 0%
        no-repeat padding-box;
      background-position: center;
      background-size: contain;
    }
  }
  &__line-image {
    // width: 90rem;
    height: 30rem;
    margin: 0rem 0rem 8rem;
    &--1 {
      margin-bottom: 10rem;
      background: transparent url("../../images/line01@2x.png") 0% 0% no-repeat
        padding-box;
      background-position: center;
      background-size: contain;
    }
    &--2 {
      background: transparent url("../../images/line02@2x.png") 0% 0% no-repeat
        padding-box;
      background-position: center;
      background-size: contain;
      margin: 0rem 0rem 14rem;
    }
    &--3 {
      background: transparent url("../../images/line03@2x.png") 0% 0% no-repeat
        padding-box;
      background-position: center;
      background-size: contain;
      margin: 4rem 0rem 14rem 14rem;
    }
  }
  &__buttons {
    display: flex;
    gap: 5rem;
    justify-content: center;
    margin-top: 6rem;
  }
  &__button {
    min-width: 18rem;
    z-index: 1;
  }
  &__button:first-child {
    background-color: $color-blue;
  }
}

@include respond(tab-port) {
  .products {
    height: fit-content;
    padding-bottom: 60rem;
    &__container {
      margin: 0 4.8rem;
    }
  }
}

@include respond(phone) {
  .products {
    &__finger,
    &__offline,
    &__device,
    &__trace {
      flex-direction: column;
    }
    &__image-box {
      flex: auto;
    }
    &__content {
      flex: 1;
    }
    &__intro-image {
      --ratio: calc(100vw / 1280px);
      &--circle {
        width: calc(60rem * 0.8);
      }
      &--card {
        width: calc(30rem * 0.8);
      }
      // transform: translate(-50%, -50%) scale(var(--ratio));
    }
  }
}
@include respond(iphone) {
  .products {
    &__buttons {
      gap: 2rem;
    }
    &__button {
      min-width: 12rem;
    }
    &.finger &__intro-image--card {
      top: 238%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(-15deg) scale(1.25);
    }
    &.finger &__finger-image--fingerprint {
      transition-delay: 1.5s;
      opacity: 1;
      transform: translate(-50%, -50%) scale(0.75);
    }

    &.offline &__intro-image--card {
      top: 516%;
      left: -2%;
      // transform: translate(-50%, -50%) scale(0.75) rotate(15deg);
      transform: matrix(0.52, 0.3, -0.02, 0.58, 0, 0);
    }
    &.device &__intro-image--card {
      top: 808%;
      left: 21%;
      transform: matrix(0.78, -0.4, 0, 0.93, 0, 0);
    }
    &.trace &__intro-image--card {
      top: 1136%;
      left: 22%;
      transform: matrix(0.9, 0, 0, 0.9, 0, 0);
    }
    &__line-image {
      &--1 {
      }
      &--2 {
        margin: 0rem 0rem 8rem;
      }
      &--3 {
        margin: 0rem 0rem 8rem;
      }
    }
  }
}

// @include respond(iphone12) {
//   .products {
//     &__buttons {
//       margin-top: 6rem;
//       flex-direction: column;
//     }
//   }
// }
